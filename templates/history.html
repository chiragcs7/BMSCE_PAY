{% extends "layout_logged_in.html" %}
{% block pagetitle %}History{% endblock %}

{% block pagecontent %}
<div class="section-card">
  <div class="card-header-inline">
    <h2 class="section-title">Passbook</h2>
    <div class="tabs">
      <button class="tab-btn active" data-range="all">All</button>
      <button class="tab-btn" data-range="month">This Month</button>
      <button class="tab-btn" data-range="year">This Year</button>
    </div>
  </div>

  <table class="table" id="history-table">
    <thead>
      <tr><th>To / From</th><th>Amount</th><th>Type</th><th>Note</th><th>Time</th></tr>
    </thead>
    <tbody>
      {% for t in txns %}
      <tr data-ts="{{ t.timestamp }}">
        <td>{{ t.display_name }}</td>
        <td>â‚¹ {{ t.amount }}</td>
        <td>{{ t.type }}</td>
        <td>{{ t.note }}</td>
        <td>{{ t.timestamp }}</td>
      </tr>
      {% else %}
      <tr><td colspan="5">No transactions yet.</td></tr>
      {% endfor %}
    </tbody>
  </table>
</div>
{% endblock %}
